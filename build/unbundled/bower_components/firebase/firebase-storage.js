(function(){for(var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,r=["Number","MIN_SAFE_INTEGER"],o=0;o<r.length-1;o++){var a=r[o];a in n||(n[a]={}),n=n[a]}var i=r[r.length-1];-9007199254740991!=n[i]&&e(n,i,{configurable:!0,writable:!0,value:-9007199254740991});var u=this,c=function(t){return void 0!==t},s=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},l=function(t,e){this.code="storage/"+t,this.message="Firebase Storage: "+e,this.serverResponse=null,this.name="FirebaseError"};!function(){function t(){}var e=Error;t.prototype=e.prototype,l.b=e.prototype,l.prototype=new t,l.a=function(t,n,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[n].apply(t,o)}}();var f=function(){return new l("unknown","An unknown error occurred, please check the error payload for server response.")},p=function(){return new l("canceled","User canceled the upload/download.")},h=function(){return new l("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},d=function(t,e,n){return new l("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)},b=function(){return new l("app-deleted","The Firebase app was deleted.")},y=function(t,e){return new l("invalid-format","String does not match format '"+t+"': "+e)},g=function(t){throw new l("internal-error","Internal error: "+t)},w="https://firebasestorage.googleapis.com",v=function(t){if("undefined"!=typeof firebase)return new firebase.Promise(t);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},m=function(t,e){return-1!==t.indexOf(e)},E=function(t,e,n){function r(){f||(f=!0,e.apply(null,arguments))}function o(e){c=setTimeout(function(){c=null,t(a,2===l)},e)}function a(t,e){if(!f)if(t)r.apply(null,arguments);else if(2===l||s)r.apply(null,arguments);else{64>u&&(u*=2);var n;1===l?(l=2,n=0):n=1e3*(u+Math.random()),o(n)}}function i(t){p||(p=!0,f||(null!==c?(t||(l=2),clearTimeout(c),o(0)):t||(l=1)))}var u=1,c=null,s=!1,l=0,f=!1,p=!1;return o(0),setTimeout(function(){s=!0,i(!0)},n),i},x=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},R=function(t){var e={};return x(t,function(t,n){e[t]=n}),e},k=function(t,e,n,r){this.h=t,this.b={},this.method=e,this.headers={},this.body=null,this.j=n,this.l=this.a=null,this.c=[200],this.g=[],this.timeout=r,this.f=!0},A=function(t){var e=encodeURIComponent,n="?";return x(t,function(t,r){t=e(t)+"="+e(r),n=n+t+"&"}),n=n.slice(0,-1)},S=function(t,e,n,r,o,a,i,u,c,s,l){this.C=t,this.A=e,this.v=n,this.o=r,this.B=o.slice(),this.m=a.slice(),this.j=this.l=this.c=this.b=null,this.f=this.g=!1,this.s=i,this.h=u,this.D=l,this.w=c;var f=this;this.u=v(function(t,e){f.l=t,f.j=e,T(f)})},U=function(t,e,n){this.b=t,this.c=e,this.a=!!n},T=function(t){function e(t,e){e?t(!1,new U(!1,null,!0)):(e=new ee,e.a.withCredentials=r.D,r.b=e,ne(e,r.C,r.A,r.o,r.v).then(function(e){r.b=null;var n=0===re(e),o=oe(e);if(!(n=!n))var n=m([408,429],o),a=m(r.m,o),n=500<=o&&600>o||n||a;n?(e=2===re(e),t(!1,new U(!1,null,e))):t(!0,new U(m(r.B,o),e))}))}function n(t,e){var n=r.l;t=r.j;var o=e.c;if(e.b)try{var a=r.s(o,ae(o));c(a)?n(a):n()}catch(e){t(e)}else null!==o?(e=f(),a=ae(o),e.serverResponse=a,t(r.h?r.h(o,e):e)):(e=e.a?r.f?b():p():new l("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),t(e))}var r=t;t.g?n(0,new U(!1,null,!0)):t.c=E(e,n,t.w)};S.prototype.a=function(){return this.u},S.prototype.cancel=function(t){this.g=!0,this.f=t||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var O=function(t,e,n){var r=A(t.b),r=t.h+r,o=t.headers?R(t.headers):{};return null!==e&&0<e.length&&(o.Authorization="Firebase "+e),o["X-Firebase-Storage-Version"]="webjs/"+("undefined"!=typeof firebase?firebase.SDK_VERSION:"AppManager"),new S(r,t.method,o,t.body,t.c,t.g,t.j,t.a,t.timeout,0,n)},j=function(t){this.b=firebase.Promise.reject(t)};j.prototype.a=function(){return this.b},j.prototype.cancel=function(){};var C=function(t,e){this.bucket=t,this.path=e},I=function(t){var e=encodeURIComponent;return"/b/"+e(t.bucket)+"/o/"+e(t.path)},L=function(t){var e;try{e=N(t)}catch(e){return new C(t,"")}if(""===e.path)return e;throw new l("invalid-default-bucket","Invalid default bucket '"+t+"'.")},N=function(t){for(var e=null,n=[{L:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,G:{bucket:1,path:3},K:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path=t.path.slice(0,-1))}},{L:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,G:{bucket:1,path:3},K:function(t){t.path=decodeURIComponent(t.path)}}],r=0;r<n.length;r++){var o=n[r],a=o.L.exec(t);if(a){e=a[o.G.bucket],(a=a[o.G.path])||(a=""),e=new C(e,a),o.K(e);break}}if(null==e)throw new l("invalid-url","Invalid URL '"+t+"'.");return e},B=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},M=function(t,e){function n(){delete o.a[r]}var r=t.b;t.b++,t.a[r]=e;var o=t;e.a().then(n,n)},P=function(t){x(t.a,function(t,e){e&&e.cancel(!0)}),t.a={}},F=function(t){return c(t)&&null!==t},_=function(t){return"string"==typeof t||t instanceof String},G=function(){return"undefined"!=typeof Blob},D=function(t,e,n,r,o){this.a=t,this.g=null,null!==this.a&&(t=this.a.options,F(t)&&(t=t.storageBucket||null,this.g=null==t?null:L(t).bucket)),this.o=e,this.m=n,this.j=o,this.l=r,this.c=12e4,this.b=6e4,this.h=new B,this.f=!1},z=function(t){return null!==t.a&&F(t.a.INTERNAL)&&F(t.a.INTERNAL.getToken)?t.a.INTERNAL.getToken().then(function(t){return F(t)?t.accessToken:null},function(){return null}):firebase.Promise.resolve(null)};D.prototype.bucket=function(){if(this.f)throw b();return this.g};var X,H=function(t,e,n){return t.f?new j(b()):(e=t.m(e,n,null===t.a,t.j),M(t.h,e),e)},W=function(t,e){return e=e.split("/").filter(function(t){return 0<t.length}).join("/"),0===t.length?e:t+"/"+e},q=function(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)},K=function(t,e){return e},Z=function(t,e,n,r){this.c=t,this.b=e||t,this.writable=!!n,this.a=r||K},J=null,V=function(){if(J)return J;var t=[];t.push(new Z("bucket")),t.push(new Z("generation")),t.push(new Z("metageneration")),t.push(new Z("name","fullPath",!0));var e=new Z("name");return e.a=function(t,e){return!_(e)||2>e.length?e:q(e)},t.push(e),e=new Z("size"),e.a=function(t,e){return F(e)?+e:e},t.push(e),t.push(new Z("timeCreated")),t.push(new Z("updated")),t.push(new Z("md5Hash",null,!0)),t.push(new Z("cacheControl",null,!0)),t.push(new Z("contentDisposition",null,!0)),t.push(new Z("contentEncoding",null,!0)),t.push(new Z("contentLanguage",null,!0)),t.push(new Z("contentType",null,!0)),t.push(new Z("metadata","customMetadata",!0)),t.push(new Z("downloadTokens","downloadURLs",!1,function(t,e){if(!(_(e)&&0<e.length))return[];var n=encodeURIComponent;return e.split(",").map(function(e){var r=t.fullPath,r="https://firebasestorage.googleapis.com/v0"+("/b/"+n(t.bucket)+"/o/"+n(r));return e=A({alt:"media",token:e}),r+e})})),J=t},$=function(t,e){Object.defineProperty(t,"ref",{get:function(){return e.o(e,new C(t.bucket,t.fullPath))}})},Y=function(t,e){for(var n={},r=e.length,o=0;o<r;o++){var a=e[o];a.writable&&(n[a.c]=t[a.b])}return JSON.stringify(n)},Q=function(t){if(!t||"object"!=typeof t)throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if("object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}else if(null!=n&&"object"==typeof n)throw"Mapping for '"+e+"' cannot be an object."}},tt=function(t,e,n){for(var r=e.length,o=e.length,a=0;a<e.length;a++)if(e[a].b){r=a;break}if(!(r<=n.length&&n.length<=o))throw r===o?(e=r,r=1===r?"argument":"arguments"):(e="between "+r+" and "+o,r="arguments"),new l("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+e+" "+r+", received "+n.length+".");for(a=0;a<n.length;a++)try{e[a].a(n[a])}catch(e){if(e instanceof Error)throw d(a,t,e.message);throw d(a,t,e)}},et=function(t,e){var n=this;this.a=function(e){n.b&&!c(e)||t(e)},this.b=!!e},nt=function(t,e){return function(n){t(n),e(n)}},rt=function(t,e){function n(t){if(!("string"==typeof t||t instanceof String))throw"Expected string."}var r;return r=t?nt(n,t):n,new et(r,e)},ot=function(){return new et(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||G()&&t instanceof Blob))throw"Expected Blob or File."})},at=function(){return new et(function(t){if(!(("number"==typeof t||t instanceof Number)&&0<=t))throw"Expected a number 0 or greater."})},it=function(t,e){return new et(function(e){if(!(null===e||F(e)&&e instanceof Object))throw"Expected an Object.";F(t)&&t(e)},e)},ut=function(){return new et(function(t){if(null!==t&&"function"!=s(t))throw"Expected a Function."},!0)},ct=function(t){return function(){var e=[];Array.prototype.push.apply(e,arguments),firebase.Promise.resolve(!0).then(function(){t.apply(null,e)})}},st=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},lt=function(t,e){return t<e?-1:t>e?1:0};t:{var ft=u.navigator;if(ft){var pt=ft.userAgent;if(pt){X=pt;break t}}X=""}var ht,dt=function(t,e){var n=At;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},bt=-1!=X.indexOf("Opera"),yt=-1!=X.indexOf("Trident")||-1!=X.indexOf("MSIE"),gt=-1!=X.indexOf("Edge"),wt=!(-1==X.indexOf("Gecko")||-1!=X.toLowerCase().indexOf("webkit")&&-1==X.indexOf("Edge")||-1!=X.indexOf("Trident")||-1!=X.indexOf("MSIE")||-1!=X.indexOf("Edge")),vt=-1!=X.toLowerCase().indexOf("webkit")&&-1==X.indexOf("Edge");t:{var mt="",Et=function(){var t=X;return wt?/rv\:([^\);]+)(\)|;)/.exec(t):gt?/Edge\/([\d\.]+)/.exec(t):yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):vt?/WebKit\/(\S+)/.exec(t):bt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Et&&(mt=Et?Et[1]:""),yt){var xt,Rt=u.document;if(xt=Rt?Rt.documentMode:void 0,null!=xt&&xt>parseFloat(mt)){ht=String(xt);break t}}ht=mt}var kt=ht,At={},St=function(t){return dt(t,function(){for(var e=0,n=st(String(kt)).split("."),r=st(String(t)).split("."),o=Math.max(n.length,r.length),a=0;0==e&&a<o;a++){var i=n[a]||"",u=r[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;e=lt(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||lt(0==i[2].length,0==u[2].length)||lt(i[2],u[2]),i=i[3],u=u[3]}while(0==e)}return 0<=e})},Ut=function(t){var e=u.BlobBuilder||u.WebKitBlobBuilder;if(c(e)){for(var e=new e,n=0;n<arguments.length;n++)e.append(arguments[n]);return e.getBlob()}if(e=Array.prototype.slice.call(arguments),n=u.BlobBuilder||u.WebKitBlobBuilder,c(n)){for(var n=new n,r=0;r<e.length;r++)n.append(e[r],void 0);e=n.getBlob(void 0)}else{if(!c(u.Blob))throw Error("This browser doesn't seem to support creating Blobs");e=new Blob(e,{})}return e},Tt=function(t,e,n){return c(n)||(n=t.size),t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?wt&&!St("13.0")||vt&&!St("537.1")?(0>e&&(e+=t.size),0>e&&(e=0),0>n&&(n+=t.size),n<e&&(n=e),t.slice(e,n-e)):t.slice(e,n):null},Ot={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jt=function(t){switch(t){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},Ct=function(t,e){this.data=t,this.a=e||null},It=function(t,e){switch(t){case"raw":return new Ct(Lt(e));case"base64":case"base64url":return new Ct(Nt(t,e));case"data_url":t=new Bt(e);var n;if(t.a)n=Nt("base64",t.c);else{try{n=decodeURIComponent(t.c)}catch(t){throw y("data_url","Malformed data URL.")}n=Lt(n)}return new Ct(n,new Bt(e).b)}throw f()},Lt=function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(r);else if(2047>=r)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var o=t.charCodeAt(++n),r=65536|(1023&r)<<10|1023&o;e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)},Nt=function(t,e){switch(t){case"base64":var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw y(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/"),n||r)throw y(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(e){throw y(t,"Invalid character found")}for(t=new Uint8Array(o.length),e=0;e<o.length;e++)t[e]=o.charCodeAt(e);return t},Bt=function(t){var e=t.match(/^data:([^,]+)?,/);if(null===e)throw y("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(e=e[1]||null,this.a=!1,this.b=null,null!=e){var n=e.length-7;this.b=(this.a=0<=n&&e.indexOf(";base64",n)==n)?e.substring(0,e.length-7):e}this.c=t.substring(t.indexOf(",")+1)},Mt=function(t,e){G()&&t instanceof Blob?(this.i=t,e=t.size,t=t.type):(t instanceof ArrayBuffer?(e?this.i=new Uint8Array(t):(this.i=new Uint8Array(t.byteLength),this.i.set(new Uint8Array(t))),e=this.i.length):(e?this.i=t:(this.i=new Uint8Array(t.length),this.i.set(t)),e=t.length),t=""),this.a=e,this.b=t};Mt.prototype.type=function(){return this.b},Mt.prototype.slice=function(t,e){return G()&&this.i instanceof Blob?(t=Tt(this.i,t,e),null===t?null:new Mt(t)):(t=new Uint8Array(this.i.buffer,t,e-t),new Mt(t,!0))};var Pt=function(t){var e=[];if(Array.prototype.push.apply(e,arguments),G())return e=e.map(function(t){return t instanceof Mt?t.i:t}),new Mt(Ut.apply(null,e));var e=e.map(function(t){return _(t)?It("raw",t).data.buffer:t.i.buffer}),n=0;e.forEach(function(t){n+=t.byteLength});var r=new Uint8Array(n),o=0;return e.forEach(function(t){t=new Uint8Array(t);for(var e=0;e<t.length;e++)r[o++]=t[e]}),new Mt(r,!0)},Ft=function(t,e,n){"function"==s(t)||F(e)||F(n)?(this.b=t,this.error=e||null,this.a=n||null):(this.b=t.next||null,this.error=t.error||null,this.a=t.complete||null)},_t=function(t){if(!t)throw f()},Gt=function(t,e){return function(n,r){var o;t:{try{o=JSON.parse(r)}catch(t){o=null;break t}n=typeof o,o="object"==n&&null!=o||"function"==n?o:null}if(null===o)o=null;else{n={type:"file"},r=e.length;for(var a=0;a<r;a++){var i=e[a];n[i.b]=i.a(n,o[i.c])}$(n,t),o=n}return _t(null!==o),o}},Dt=function(t){return function(e,n){return e=401===oe(e)?new l("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===oe(e)?new l("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===oe(e)?new l("unauthorized","User does not have permission to access '"+t.path+"'."):n,e.serverResponse=n.serverResponse,e}},zt=function(t){var e=Dt(t);return function(n,r){var o=e(n,r);return 404===oe(n)&&(o=new l("object-not-found","Object '"+t.path+"' does not exist.")),o.serverResponse=r.serverResponse,o}},Xt=function(t,e,n){var r=I(e);return t=new k(w+"/v0"+r,"GET",Gt(t,n),t.c),t.a=zt(e),t},Ht=function(t,e){var n=I(e);return t=new k(w+"/v0"+n,"DELETE",function(){},t.c),t.c=[200,204],t.a=zt(e),t},Wt=function(t,e,n){return n=n?R(n):{},n.fullPath=t.path,n.size=e.a,n.contentType||(t=e&&e.type()||"application/octet-stream",n.contentType=t),n},qt=function(t,e,n,r,o){var a,i="/b/"+encodeURIComponent(e.bucket)+"/o",u={"X-Goog-Upload-Protocol":"multipart"};a="";for(var c=0;2>c;c++)a+=Math.random().toString().slice(2);if(u["Content-Type"]="multipart/related; boundary="+a,o=Wt(e,r,o),c=Y(o,n),r=Pt("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+o.contentType+"\r\n\r\n",r,"\r\n--"+a+"--"),null===r)throw h();return t=new k(w+"/v0"+i,"POST",Gt(t,n),t.b),t.b={name:o.fullPath},t.headers=u,t.body=r.i,t.a=Dt(e),t},Kt=function(t,e,n,r){this.current=t,this.total=e,this.H=!!n,this.metadata=r||null},Zt=function(t,e){var n;try{n=t.a.getResponseHeader("X-Goog-Upload-Status")}catch(t){_t(!1)}return _t(m(e||["active"],n)),n},Jt=function(t,e,n,r,o){var a="/b/"+encodeURIComponent(e.bucket)+"/o",i=Wt(e,r,o);return o={name:i.fullPath},a=w+"/v0"+a,r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.a,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},n=Y(i,n),t=new k(a,"POST",function(t){Zt(t);var e;try{e=t.a.getResponseHeader("X-Goog-Upload-URL")}catch(t){_t(!1)}return _t(_(e)),e},t.b),t.b=o,t.headers=r,t.body=n,t.a=Dt(e),t},Vt=function(t,e,n,r){return t=new k(n,"POST",function(t){var e,n=Zt(t,["active","final"]);try{e=t.a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){_t(!1)}return t=e,isFinite(t)&&(t=String(t)),t="string"==typeof t?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN,_t(!isNaN(t)),new Kt(t,r.a,"final"===n)},t.b),t.headers={"X-Goog-Upload-Command":"query"},t.a=Dt(e),t.f=!1,t},$t=function(t,e,n,r,o,a,i){var u=new Kt(0,0);if(i?(u.current=i.current,u.total=i.total):(u.current=0,u.total=r.a),r.a!==u.total)throw new l("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=i=u.total-u.current;0<o&&(c=Math.min(c,o));var s=u.current;if(o={"X-Goog-Upload-Command":c===i?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},i=r.slice(s,s+c),null===i)throw h();return n=new k(n,"POST",function(t,n){var o,i=Zt(t,["active","final"]),s=u.current+c,l=r.a;return o="final"===i?Gt(e,a)(t,n):null,new Kt(s,l,"final"===i,o)},e.b),n.headers=o,n.body=i.i,n.l=null,n.a=Dt(t),n.f=!1,n},Yt={STATE_CHANGED:"state_changed"},Qt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},te=function(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}},ee=function(){var t=this;this.a=new XMLHttpRequest,this.c=0,this.f=v(function(e){t.a.addEventListener("abort",function(){t.c=2,e(t)}),t.a.addEventListener("error",function(){t.c=1,e(t)}),t.a.addEventListener("load",function(){e(t)})}),this.b=!1},ne=function(t,e,n,r,o){if(t.b)throw g("cannot .send() more than once");return t.b=!0,t.a.open(n,e,!0),F(o)&&x(o,function(e,n){t.a.setRequestHeader(e,n.toString())}),F(r)?t.a.send(r):t.a.send(),t.f},re=function(t){if(!t.b)throw g("cannot .getErrorCode() before sending");return t.c},oe=function(t){if(!t.b)throw g("cannot .getStatus() before sending");try{return t.a.status}catch(t){return-1}},ae=function(t){if(!t.b)throw g("cannot .getResponseText() before sending");return t.a.responseText};ee.prototype.abort=function(){this.a.abort()};var ie=function(){},ue=function(t,e,n,r,o,a){this.b=t,this.h=e,this.f=n,this.a=r,this.g=o,this.c=a};t=ue.prototype,t.W=function(){return this.b},t.ra=function(){return this.h},t.oa=function(){return this.f},t.ja=function(){return this.a},t.X=function(){if(F(this.a)){var t=this.a.downloadURLs;return F(t)&&F(t[0])?t[0]:null}return null},t.qa=function(){return this.g},t.ma=function(){return this.c};var ce=function(t,e,n,r,o,a){this.M=t,this.c=e,this.l=n,this.f=o,this.h=a||null,this.s=r,this.m=0,this.D=this.u=!1,this.B=[],this.T=262144<this.f.a,this.b="running",this.a=this.v=this.g=null,this.j=1;var i=this;this.F=function(t){i.a=null,i.j=1,"storage/canceled"===t.code?(i.u=!0,we(i)):(i.g=t,ge(i,"error"))},this.R=function(t){i.a=null,"storage/canceled"===t.code?we(i):(i.g=t,ge(i,"error"))},this.A=this.o=null,this.C=v(function(t,e){i.o=t,i.A=e,se(i)}),this.C.then(null,function(){})},se=function(t){"running"===t.b&&null===t.a&&(t.T?null===t.v?fe(t):t.u?pe(t):t.D?de(t):he(t):be(t))},le=function(t,e){z(t.c).then(function(n){switch(t.b){case"running":e(n);break;case"canceling":ge(t,"canceled");break;case"pausing":ge(t,"paused")}})},fe=function(t){le(t,function(e){var n=Jt(t.c,t.l,t.s,t.f,t.h);t.a=H(t.c,n,e),t.a.a().then(function(e){t.a=null,t.v=e,t.u=!1,we(t)},this.F)})},pe=function(t){var e=t.v;le(t,function(n){var r=Vt(t.c,t.l,e,t.f);t.a=H(t.c,r,n),t.a.a().then(function(e){t.a=null,ye(t,e.current),t.u=!1,e.H&&(t.D=!0),we(t)},t.F)})},he=function(t){var e=262144*t.j,n=new Kt(t.m,t.f.a),r=t.v;le(t,function(o){var a;try{a=$t(t.l,t.c,r,t.f,e,t.s,n)}catch(e){return t.g=e,void ge(t,"error")}t.a=H(t.c,a,o),t.a.a().then(function(e){33554432>262144*t.j&&(t.j*=2),t.a=null,ye(t,e.current),e.H?(t.h=e.metadata,ge(t,"success")):we(t)},t.F)})},de=function(t){le(t,function(e){var n=Xt(t.c,t.l,t.s);t.a=H(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,ge(t,"success")},t.R)})},be=function(t){le(t,function(e){var n=qt(t.c,t.l,t.s,t.f,t.h);t.a=H(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,ye(t,t.f.a),ge(t,"success")},t.F)})},ye=function(t,e){var n=t.m;t.m=e,t.m>n&&me(t)},ge=function(t,e){if(t.b!==e)switch(e){case"canceling":t.b=e,null!==t.a&&t.a.cancel();break;case"pausing":t.b=e,null!==t.a&&t.a.cancel();break;case"running":var n="paused"===t.b;t.b=e,n&&(me(t),se(t));break;case"paused":t.b=e,me(t);break;case"canceled":t.g=p(),t.b=e,me(t);break;case"error":t.b=e,me(t);break;case"success":t.b=e,me(t)}},we=function(t){switch(t.b){case"pausing":ge(t,"paused");break;case"canceling":ge(t,"canceled");break;case"running":se(t)}};ce.prototype.w=function(){return new ue(this.m,this.f.a,te(this.b),this.h,this,this.M)},ce.prototype.N=function(t,e,n,r){function o(t){try{return void i(t)}catch(t){}try{if(u(t),!(c(t.next)||c(t.error)||c(t.complete)))throw""}catch(t){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function a(t){return function(e,n,r){null!==t&&tt("on",t,arguments);var o=new Ft(e,n,r);return ve(s,o),function(){var t=s.B,e=t.indexOf(o);-1!==e&&t.splice(e,1)}}}var i=ut().a,u=it(null,!0).a;tt("on",[rt(function(){if("state_changed"!==t)throw"Expected one of the event types: [state_changed]."}),it(o,!0),ut(),ut()],arguments);var s=this,l=[it(function(t){if(null===t)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";o(t)}),ut(),ut()];return c(e)||c(n)||c(r)?a(null)(e,n,r):a(l)},ce.prototype.then=function(t,e){return this.C.then(t,e)},ce.prototype.catch=function(t){return this.then(null,t)};var ve=function(t,e){t.B.push(e),xe(t,e)},me=function(t){Ee(t),Array.prototype.slice.call(t.B).forEach(function(e){xe(t,e)})},Ee=function(t){if(null!==t.o){var e=!0;switch(te(t.b)){case"success":ct(t.o.bind(null,t.w()))();break;case"canceled":case"error":ct(t.A.bind(null,t.g))();break;default:e=!1}e&&(t.o=null,t.A=null)}},xe=function(t,e){switch(te(t.b)){case"running":case"paused":null!==e.b&&ct(e.b.bind(e,t.w()))();break;case"success":null!==e.a&&ct(e.a.bind(e))();break;case"canceled":case"error":null!==e.error&&ct(e.error.bind(e,t.g))();break;default:null!==e.error&&ct(e.error.bind(e,t.g))()}};ce.prototype.P=function(){tt("resume",[],arguments);var t="paused"===this.b||"pausing"===this.b;return t&&ge(this,"running"),t},ce.prototype.O=function(){tt("pause",[],arguments);var t="running"===this.b;return t&&ge(this,"pausing"),t},ce.prototype.cancel=function(){tt("cancel",[],arguments);var t="running"===this.b||"pausing"===this.b;return t&&ge(this,"canceling"),t};var Re=function(t,e){this.a=t,this.location=e instanceof C?e:N(e)};Re.prototype.toString=function(){return tt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path};var ke=function(t,e){return new Re(t,e)};t=Re.prototype,t.I=function(t){tt("child",[rt()],arguments);var e=W(this.location.path,t);return ke(this.a,new C(this.location.bucket,e))},t.la=function(){var t;if(t=this.location.path,0==t.length)t=null;else{var e=t.lastIndexOf("/");t=-1===e?"":t.slice(0,e)}return null===t?null:ke(this.a,new C(this.location.bucket,t))},t.na=function(){return ke(this.a,new C(this.location.bucket,""))},t.V=function(){return this.location.bucket},t.ga=function(){return this.location.path},t.ka=function(){return q(this.location.path)},t.pa=function(){return this.a.l},t.$=function(t,e){return tt("put",[ot(),new et(Q,!0)],arguments),Ae(this,"put"),new ce(this,this.a,this.location,V(),new Mt(t),e)},t.aa=function(t,e,n){tt("putString",[rt(),rt(jt,!0),new et(Q,!0)],arguments),Ae(this,"putString");var r=It(F(e)?e:"raw",t),o=n?R(n):{};return!F(o.contentType)&&F(r.a)&&(o.contentType=r.a),new ce(this,this.a,this.location,V(),new Mt(r.data,!0),o)},t.Y=function(){tt("delete",[],arguments),Ae(this,"delete");var t=this;return z(this.a).then(function(e){var n=Ht(t.a,t.location);return H(t.a,n,e).a()})},t.J=function(){tt("getMetadata",[],arguments),Ae(this,"getMetadata");var t=this;return z(this.a).then(function(e){var n=Xt(t.a,t.location,V());return H(t.a,n,e).a()})},t.ba=function(t){tt("updateMetadata",[new et(Q,void 0)],arguments),Ae(this,"updateMetadata");var e=this;return z(this.a).then(function(n){var r=e.a,o=e.location,a=t,i=V(),u=I(o),u=w+"/v0"+u,a=Y(a,i),r=new k(u,"PATCH",Gt(r,i),r.c);return r.headers={"Content-Type":"application/json; charset=utf-8"},r.body=a,r.a=zt(o),H(e.a,r,n).a()})},t.Z=function(){return tt("getDownloadURL",[],arguments),Ae(this,"getDownloadURL"),this.J().then(function(t){if(t=t.downloadURLs[0],F(t))return t;throw new l("no-download-url","The given file does not have any download URLs.")})};var Ae=function(t,e){if(""===t.location.path)throw new l("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},Se=function(t,e,n){this.a=new D(t,function(t,e){return new Re(t,e)},O,this,e),this.c=t,c(n)?this.b=L(n):null!=this.a.bucket()&&(this.b=new C(this.a.bucket(),"")),this.f=new Ue(this)};t=Se.prototype,t.ca=function(t){if(tt("ref",[rt(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null===this.b)throw Error("No Storage Bucket defined in Firebase Options.");var e=new Re(this.a,this.b);return c(t)?e.I(t):e},t.da=function(t){return tt("refFromURL",[rt(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{N(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Re(this.a,t)},t.ia=function(){return this.a.b},t.fa=function(t){tt("setMaxUploadRetryTime",[at()],arguments),this.a.b=t},t.ha=function(){return this.a.c},t.ea=function(t){tt("setMaxOperationRetryTime",[at()],arguments),this.a.c=t},t.U=function(){return this.c},t.S=function(){return this.f};var Ue=function(t){this.a=t};Ue.prototype.b=function(){var t=this.a.a;t.f=!0,t.a=null,P(t.h)};var Te=function(t,e,n){Object.defineProperty(t,e,{get:n})};Re.prototype.toString=Re.prototype.toString,Re.prototype.child=Re.prototype.I,Re.prototype.put=Re.prototype.$,Re.prototype.putString=Re.prototype.aa,Re.prototype.delete=Re.prototype.Y,Re.prototype.getMetadata=Re.prototype.J,Re.prototype.updateMetadata=Re.prototype.ba,Re.prototype.getDownloadURL=Re.prototype.Z,Te(Re.prototype,"parent",Re.prototype.la),Te(Re.prototype,"root",Re.prototype.na),Te(Re.prototype,"bucket",Re.prototype.V),Te(Re.prototype,"fullPath",Re.prototype.ga),Te(Re.prototype,"name",Re.prototype.ka),Te(Re.prototype,"storage",Re.prototype.pa),Se.prototype.ref=Se.prototype.ca,Se.prototype.refFromURL=Se.prototype.da,Te(Se.prototype,"maxOperationRetryTime",Se.prototype.ha),Se.prototype.setMaxOperationRetryTime=Se.prototype.ea,Te(Se.prototype,"maxUploadRetryTime",Se.prototype.ia),Se.prototype.setMaxUploadRetryTime=Se.prototype.fa,Te(Se.prototype,"app",Se.prototype.U),Te(Se.prototype,"INTERNAL",Se.prototype.S),Ue.prototype.delete=Ue.prototype.b,Se.prototype.capi_=function(t){w=t},ce.prototype.on=ce.prototype.N,ce.prototype.resume=ce.prototype.P,ce.prototype.pause=ce.prototype.O,ce.prototype.cancel=ce.prototype.cancel,ce.prototype.then=ce.prototype.then,ce.prototype.catch=ce.prototype.catch,Te(ce.prototype,"snapshot",ce.prototype.w),Te(ue.prototype,"bytesTransferred",ue.prototype.W),Te(ue.prototype,"totalBytes",ue.prototype.ra),Te(ue.prototype,"state",ue.prototype.oa),Te(ue.prototype,"metadata",ue.prototype.ja),Te(ue.prototype,"downloadURL",ue.prototype.X),Te(ue.prototype,"task",ue.prototype.qa),Te(ue.prototype,"ref",ue.prototype.ma),Yt.STATE_CHANGED="state_changed",Qt.RUNNING="running",Qt.PAUSED="paused",Qt.SUCCESS="success",Qt.CANCELED="canceled",Qt.ERROR="error",Ot.RAW="raw",Ot.BASE64="base64",Ot.BASE64URL="base64url",Ot.DATA_URL="data_url",function(){function t(t,e,n){return new Se(t,new ie,n)}var e={TaskState:Qt,TaskEvent:Yt,StringFormat:Ot,Storage:Se,Reference:Re};if("undefined"==typeof firebase)throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");firebase.INTERNAL.registerService("storage",t,e,void 0,!0)}()}).call(this);